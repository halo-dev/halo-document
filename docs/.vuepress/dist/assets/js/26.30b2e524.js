(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{279:function(a,t,s){"use strict";s.r(t);var e=s(9),n=Object(e.a)({},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"使用-docker-compose-部署-halo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-docker-compose-部署-halo","aria-hidden":"true"}},[a._v("#")]),a._v(" 使用 Docker-compose 部署 Halo")]),a._v(" "),s("p",[a._v("使用 "),s("a",{attrs:{href:"https://docs.docker.com/compose/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[a._v("Docker Compose")]),s("OutboundLink")],1),a._v(" 部署 "),s("code",[a._v("Halo")]),a._v(" 的指南，假设你了解并使用过 "),s("a",{attrs:{href:"https://docs.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[a._v("Docker")]),s("OutboundLink")],1),a._v(" 和 "),s("a",{attrs:{href:"https://docs.docker.com/compose/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[a._v("Docker Compose")]),s("OutboundLink")],1),a._v("。本篇教程以 "),s("code",[a._v("CentOS 7.x")]),a._v(" 为例，其他系统大同小异。")]),a._v(" "),s("h2",{attrs:{id:"环境要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境要求","aria-hidden":"true"}},[a._v("#")]),a._v(" 环境要求")]),a._v(" "),s("p",[a._v("为了在使用过程中不出现意外的事故，给出下列推荐的配置")]),a._v(" "),s("ul",[s("li",[a._v("1G RAM 的服务器")])]),a._v(" "),s("p",[a._v("在开始之前，最好先到域名服务商解析域名，设置 A 记录并指向服务器的 IP 地址，并确保已经正确解析以及没有被工信部拦截（国内服务器需备案），你可以在本地使用 Ping 命令检查域名是否已经正确解析到了服务器的 IP 地址。以方便在安装过程中为域名配置 SSL 证书。")]),a._v(" "),s("h2",{attrs:{id:"服务器配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务器配置","aria-hidden":"true"}},[a._v("#")]),a._v(" 服务器配置")]),a._v(" "),s("h3",{attrs:{id:"更新软件包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新软件包","aria-hidden":"true"}},[a._v("#")]),a._v(" 更新软件包")]),a._v(" "),s("p",[a._v("请确保服务器的软件包已经是最新的。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum update -y\n")])])]),s("h3",{attrs:{id:"配置-docker-运行环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置-docker-运行环境","aria-hidden":"true"}},[a._v("#")]),a._v(" 配置 Docker 运行环境")]),a._v(" "),s("p",[a._v("请参考 "),s("router-link",{attrs:{to:"/guide/install-with-docker.html#服务器配置"}},[a._v("使用 Docker 部署 Halo")])],1),a._v(" "),s("h3",{attrs:{id:"配置-docker-compose"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置-docker-compose","aria-hidden":"true"}},[a._v("#")]),a._v(" 配置 Docker Compose")]),a._v(" "),s("p",[a._v("请参考 "),s("a",{attrs:{href:"http://docs.docker.com/compose/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Docker Compose | Docker Documentation"),s("OutboundLink")],1)]),a._v(" "),s("div",[s("AdSense-Doc",{attrs:{"ad-client":"ca-pub-5271828906478846","ad-slot":"2656935500","ad-style":"display:block; text-align:center;","ad-format":"fluid"}})],1),a._v(" "),s("h2",{attrs:{id:"安装-halo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-halo","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装 Halo")]),a._v(" "),s("h3",{attrs:{id:"下载配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载配置文件","aria-hidden":"true"}},[a._v("#")]),a._v(" 下载配置文件")]),a._v(" "),s("p",[a._v("考虑到部分用户的需要，可能需要自定义比如端口等设置项，我们提供了公共的配置文件，并且该配置文件是完全独立于安装包的。当然，你也可以使用安装包内的默认配置文件，但是安装包内的配置文件是不可修改的。请注意：配置文件的路径为 "),s("code",[a._v("~/.halo/application.yaml")]),a._v("。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 下载配置文件到 ~/.halo 目录")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -o ~/.halo/application.yaml --create-dirs https://raw.githubusercontent.com/halo-dev/halo-common/master/application-template.yaml\n")])])]),s("h3",{attrs:{id:"修改配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件","aria-hidden":"true"}},[a._v("#")]),a._v(" 修改配置文件")]),a._v(" "),s("p",[a._v("完成上一步操作，我们就可以自己配置 Halo 的运行端口，以及数据库相关的配置了。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 使用 Vim 工具修改配置文件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" ~/.halo/application.yaml\n")])])]),s("p",[a._v("打开之后我们可以看到")]),a._v(" "),s("ul",[s("li",[a._v("H2 配置如下：")])]),a._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8090")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spring")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("datasource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" com.zaxxer.hikari.HikariDataSource\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# H2 Database 配置")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("driver-class-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" org.h2.Driver\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" jdbc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("h2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("~/halo/db/halo\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" admin\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" openadmin\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("h2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("settings")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("web-allow-others")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("path")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" /h2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("console\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("enabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n")])])]),s("ul",[s("li",[a._v("MySQL 配置如下：")])]),a._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8090")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spring")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("datasource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# MySQL 配置")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("driver-class-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" com.mysql.cj.jdbc.Driver\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" jdbc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("mysql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//127.0.0.1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("3306/halodb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("?")]),a._v("characterEncoding=utf8"),s("span",{pre:!0,attrs:{class:"token important"}},[a._v("&useSSL")]),a._v("=false"),s("span",{pre:!0,attrs:{class:"token important"}},[a._v("&serverTimezone")]),a._v("=Asia/Shanghai\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" root\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" openroot\n")])])]),s("ol",[s("li",[a._v("如果需要自定义端口，修改 "),s("code",[a._v("server")]),a._v(" 节点下的 "),s("code",[a._v("port")]),a._v(" 即可。")]),a._v(" "),s("li",[a._v("默认使用的是 "),s("code",[a._v("H2 Database")]),a._v(" 数据库，这是一种嵌入式的数据库，使用起来非常方便。需要注意的是，默认的用户名和密码为 "),s("code",[a._v("admin")]),a._v(" 和 "),s("code",[a._v("123456")]),a._v("，这个是自定义的，最好将其修改，并妥善保存。")]),a._v(" "),s("li",[a._v("如果需要使用 "),s("code",[a._v("MySQL")]),a._v(" 数据库，需要将 "),s("code",[a._v("H2 Database")]),a._v(" 的所有相关配置都注释掉，并取消 "),s("code",[a._v("MySQL")]),a._v(" 的相关配置。另外，"),s("code",[a._v("MySQL")]),a._v(" 的默认数据库名为 "),s("code",[a._v("halodb")]),a._v("，请自行配置 "),s("code",[a._v("MySQL")]),a._v(" 并创建数据库，以及修改配置文件中的用户名和密码。")]),a._v(" "),s("li",[s("code",[a._v("h2")]),a._v(" 节点为 "),s("code",[a._v("H2 Database")]),a._v(" 的控制台配置，默认是关闭的，如需使用请将 "),s("code",[a._v("h2.console.settings.web-allow-others")]),a._v(" 和 "),s("code",[a._v("h2.console.enabled")]),a._v(" 设置为 "),s("code",[a._v("true")]),a._v("。控制台地址即为 "),s("code",[a._v("域名/h2-console")]),a._v("。注意：非紧急情况，不建议开启该配置。")])]),a._v(" "),s("h3",{attrs:{id:"下载-docker-compose-配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载-docker-compose-配置文件","aria-hidden":"true"}},[a._v("#")]),a._v(" 下载 Docker Compose 配置文件")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" -O docker-compose.yaml https://raw.githubusercontent.com/halo-dev/halo-common/master/docker-compose.yaml\n")])])]),s("h3",{attrs:{id:"修改-docker-compose-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改-docker-compose-文件","aria-hidden":"true"}},[a._v("#")]),a._v(" 修改 Docker Compose 文件")]),a._v(" "),s("p",[a._v("假设你现在已经下载好了 docker-compose.yaml 文件，那么在部署之前需要做的就是简单修改以下这个文件。因为我们需要绑定域名以申请 SSL 证书，所以你需要在 docker-compose.yaml 文件中修改以下配置：")]),a._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("halo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("restart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" always\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ruibaby/halo\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" halo\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" 8090"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8090")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" VIRTUAL_PORT=8090\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" VIRTUAL_HOST=localhost  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 监听的地址（务必修改）")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" LETSENCRYPT_HOST=localhost "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 证书的域名 （务必修改）")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" LETSENCRYPT_EMAIL=i@example.com "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 证书所有者的邮箱，快过期时会提醒（务必修改）")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" ~/.halo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/root/.halo\n")])])]),s("p",[a._v("参考配置：")]),a._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("halo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("restart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" always\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ruibaby/halo\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" halo\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" 8090"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8090")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" VIRTUAL_PORT=8090\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" VIRTUAL_HOST=blog.ryanc.cc\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" LETSENCRYPT_HOST=blog.ryanc.cc\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" LETSENCRYPT_EMAIL=i@ryanc.cc\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" ~/.halo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/root/.halo\n")])])]),s("p",[a._v("如上配置，我们需要修改 "),s("code",[a._v("VIRTUAL_HOST")]),a._v(" , "),s("code",[a._v("LETSENCRYPT_HOST")]),a._v(" 为自己的域名，"),s("strong",[a._v("注意注意注意！")]),a._v("，在部署之前最好先将外网 IP 解析到域名，因为申请 SSL 证书需要域名可以正常访问。另外，"),s("code",[a._v("LETSENCRYPT_EMAIL")]),a._v(" 这个节点是证书申请者的邮箱，当证书要过期的时候，会提醒你续签。")]),a._v(" "),s("h3",{attrs:{id:"下载配置文件模板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载配置文件模板","aria-hidden":"true"}},[a._v("#")]),a._v(" 下载配置文件模板")]),a._v(" "),s("p",[a._v("因为要涉及到 Nginx 反向代理，所以我们需要使用模板生成一个 Nginx 的配置文件，以配置好需要代理的地址以及后面 SSL 证书的配置。这个模板人家已经写好了，所以我们直接下载下来即可，下载下来我们就不需要管了。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cd")]),a._v(" /etc "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" nginx\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" https://raw.githubusercontent.com/jwilder/nginx-proxy/master/nginx.tmpl "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /etc/nginx/nginx.tmpl\n")])])]),s("h3",{attrs:{id:"运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行","aria-hidden":"true"}},[a._v("#")]),a._v(" 运行")]),a._v(" "),s("p",[a._v("如果你顺利进行了上面所述步骤，那么已经离成功不远了，现在我们只需要执行一条命令即可完成 Halo 的部署。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("docker-compose up -d\n")])])]),s("h3",{attrs:{id:"版本更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#版本更新","aria-hidden":"true"}},[a._v("#")]),a._v(" 版本更新")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 拉取最新的 Halo 镜像")]),a._v("\ndocker-compose pull\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 重新构建容器")]),a._v("\ndocker-compose up -d\n")])])]),s("h3",{attrs:{id:"常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用命令","aria-hidden":"true"}},[a._v("#")]),a._v(" 常用命令")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 停止容器运行")]),a._v("\ndocker-compose stop\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启动容器")]),a._v("\ndocker-compose start\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 重启容器")]),a._v("\ndocker-compose restart\n")])])]),s("h3",{attrs:{id:"注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意事项","aria-hidden":"true"}},[a._v("#")]),a._v(" 注意事项")]),a._v(" "),s("ol",[s("li",[a._v("最好提前解析好 IP，绑定域名。")]),a._v(" "),s("li",[a._v("运行完成之后可能得等几分钟，HTTPS 才会配置好，如果不能访问属正常现象，等待几分钟就可以看到 Halo 安装的界面了。")]),a._v(" "),s("li",[a._v("Docker 镜像使用的是 H2 数据库，所以不需要你自己安装，服务启动就可以自动创建了。")])]),a._v(" "),s("div",[s("AdSense-Doc",{attrs:{"ad-client":"ca-pub-5271828906478846","ad-slot":"2656935500","ad-style":"display:block; text-align:center;","ad-format":"fluid"}})],1)])},[],!1,null,null,null);t.default=n.exports}}]);